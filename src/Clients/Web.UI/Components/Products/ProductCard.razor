@using Web.UI.Models
@inject NavigationManager Navigation

<RadzenCard Style="height: 100%; display: flex; flex-direction: column;">
    @if (!string.IsNullOrEmpty(Product.ImageUrl))
    {
        <RadzenImage Path="@Product.ImageUrl" Alt="@Product.Name" Style="width: 100%; height: 200px; object-fit: cover;" />
    }
    else
    {
        <div style="width: 100%; height: 200px; background-color: var(--rz-base-300); display: flex; align-items: center; justify-content: center;">
            <RadzenLabel Text="Resim Yok" Style="color: var(--rz-text-secondary-color);" />
        </div>
    }
    <RadzenStack Gap="0.5rem" Style="padding: 1rem; flex: 1; display: flex; flex-direction: column;">
        <RadzenHeading Size="HeadingSize.H5" Text="@Product.Name" />
        <RadzenLabel Text="@(Product.Description ?? "Açıklama yok")" Style="flex: 1;" />
        <RadzenLabel Text="@Product.Price.ToString("C")" Style="font-size: 1.25rem; font-weight: 600; color: var(--rz-primary);" />
        <RadzenStack Gap="0.5rem" Style="margin-top: auto;">
            <RadzenButton Text="Sepete Ekle" ButtonStyle="ButtonStyle.Primary" Click="@(() => OnAddToBasket.InvokeAsync(Product))" Style="width: 100%;" />
            <RadzenButton Text="Detaylar" ButtonStyle="ButtonStyle.Secondary" Variant="Variant.Outlined" Click="@(() => Navigation.NavigateTo($"/product/{Product.Id}"))" Style="width: 100%;" />
        </RadzenStack>
    </RadzenStack>
</RadzenCard>

@code {
    [Parameter]
    public ProductDto Product { get; set; } = default!;

    [Parameter]
    public EventCallback<ProductDto> OnAddToBasket { get; set; }
}

